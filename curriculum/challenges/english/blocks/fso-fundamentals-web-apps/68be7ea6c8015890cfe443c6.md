---
id: 68be7ea6c8015890cfe443c6
title: Running application logic in the browser
challengeType: 19
dashedName: running-application-logic-in-the-browser
---

# --description--

Keep the Developer Console open. Empty the console by clicking the ðŸš« symbol, or by typing `clear()` in the console. Now when you go to the [notes page](https://studies.cs.helsinki.fi/exampleapp/notes), the browser does 4 HTTP requests:

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-1.png" alt="Network tab showing four requests">

All of the requests have different types. The first request's type is document. It is the HTML code of the page, and it looks as follows:

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-2.png" alt="Network tab showing response data of a request">

When we compare the page shown on the browser and the HTML code returned by the server, we notice that the code does not contain the list of notes. The [head](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/head) section of the HTML contains a [script](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/script) tag, which causes the browser to fetch a JavaScript file called `main.js`.

The JavaScript code looks as follows:

```javascript
var xhttp = new XMLHttpRequest()

xhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    const data = JSON.parse(this.responseText)
    console.log(data)

    var ul = document.createElement('ul')
    ul.setAttribute('class', 'notes')

    data.forEach(function(note) {
      var li = document.createElement('li')

      ul.appendChild(li)
      li.appendChild(document.createTextNode(note.content))
    })

    document.getElementById('notes').appendChild(ul)
  }
}

xhttp.open('GET', '/data.json', true)
xhttp.send()
```

The details of the code are not important right now, but some code has been included to spice up the images and the text. The sample code in this part is actually not relevant at all to the coding techniques of this course.

Immediately after fetching the script tag, the browser begins to execute the code.

The last two lines instruct the browser to do an `HTTP GET` request to the server's address `/data.json`:

```javascript
xhttp.open('GET', '/data.json', true)
xhttp.send()
```

This is the bottom-most request shown on the `Network` tab.

We can try going to the address `https://studies.cs.helsinki.fi/exampleapp/data.json` straight from the browser:

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-3.png" alt="Browser window showing JSON data">

There we find the notes in [JSON](https://en.wikipedia.org/wiki/JSON) "raw data". By default, Chromium-based browsers are not too good at displaying JSON data. Plugins can be used to handle the formatting. Install, for example, [JSONView](https://chromewebstore.google.com/detail/jsonview/gmegofmjomhknnokphhckolhcffdaihd) on Chrome, and reload the page. The data is now nicely formatted:

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-4.png" alt="Browser window showing formatted JSON data">

So, the JavaScript code of the notes page above downloads the JSON data containing the notes, and forms a bullet-point list from the note contents:

This is done by the following code:

```js
const data = JSON.parse(this.responseText)
console.log(data)

var ul = document.createElement('ul')
ul.setAttribute('class', 'notes')

data.forEach(function(note) {
  var li = document.createElement('li')

  ul.appendChild(li)
  li.appendChild(document.createTextNode(note.content))
})

document.getElementById('notes').appendChild(ul)
```

The code first creates an unordered list with a [ul](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/ul)-tag...

```js
var ul = document.createElement('ul')
ul.setAttribute('class', 'notes')
```

...and then adds one [li](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/li)-tag for each note. Only the content field of each note becomes the contents of the `li`-tag. The timestamps found in the raw data are not used for anything here.

```js
data.forEach(function(note) {
  var li = document.createElement('li')

  ul.appendChild(li)
  li.appendChild(document.createTextNode(note.content))
})
```

Now open the `Console` tab on your Developer Console:

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-5.png" alt="Console tab showing JSON data">

By clicking the little triangle at the beginning of the line, you can expand the text on the console.

<img src="https://cdn.freecodecamp.org/curriculum/full-stack-open/part-0-b/run-app-6.png" alt="Console tab showing expanded JSON data">

This output on the console is caused by the `console.log` command in the code:

```js
const data = JSON.parse(this.responseText)
console.log(data)
```

So, after receiving data from the server, the code prints it to the console.

The `Console` tab and the `console.log` command will become very familiar to you during the course.

# --questions--

## --text--

On the notes page, why doesnâ€™t the initial HTML document contain the list of notes?

## --answers--

Because the notes are hidden in the HTML and only displayed when the user clicks a button.  

### --feedback--

Thereâ€™s no button, the notes are not part of the initial HTML at all.

---

Because the server always sends empty HTML documents and relies entirely on the browser to generate content.  

### --feedback--

The server sends HTML, but the notes themselves are fetched dynamically as JSON.

---

Because the browser blocks the notes for security reasons.  

### --feedback--

Nothing is being blocked, the notes are loaded dynamically by JavaScript.

---

Because the notes are fetched separately as JSON data by JavaScript (`main.js`) after the page loads.  

## --video-solution--

4

