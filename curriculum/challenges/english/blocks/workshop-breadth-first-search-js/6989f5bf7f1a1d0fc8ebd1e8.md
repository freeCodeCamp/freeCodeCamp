---
id: 6989f5bf7f1a1d0fc8ebd1e8
title: Step 11
challengeType: 1
dashedName: step-11
---

# --description--

Now you need to handle adding closing parentheses. The key rule is that you can only add a closing parenthesis if it maintains balance, meaning there must be more opening parentheses used than closing parentheses.

Still within the `else` block, add a second `if` statement to check if `closesUsed < opensUsed`.

If this condition is true, push another new array to the `queue`: `[current + ')', opensUsed, closesUsed + 1]`. This represents the state after adding a closing parenthesis.

# --hints--

You should have a second `if` statement inside your `else` block.

```js

```

Your second nested `if` statement should check if `closesUsed < opensUsed`.

```js

```

You should push `[current + ')', opensUsed, closesUsed + 1]` to the queue when the condition is true.

```js

```

# --seed--

## --seed-contents--

```js
function genParentheses(pairs) {
    if (!Number.isInteger(pairs)) {
        return 'The number of pairs should be an integer';
    }
    if (pairs < 1) {
        return 'The number of pairs should be at least 1';
    }

    let queue = [['', 0, 0]];
    let result = [];

    while (queue.length > 0) {
        console.log(queue);
        let [current, opensUsed, closesUsed] = queue.shift();

        if (current.length === 2 * pairs) {
            result.push(current);
        } 
        
        else {
            if (opensUsed < pairs) {
                queue.push([current + '(', opensUsed + 1, closesUsed]);
            }
            if (closesUsed < opensUsed) {
                queue.push([current + ')', opensUsed, closesUsed + 1]);
            }

--fcc-editable-region--

--fcc-editable-region--
        }
    }
    return result;
}

console.log(genParentheses(1));
```
