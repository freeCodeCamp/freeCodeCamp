---
id: 6853f68dd3affa9adb2e6d99
title: Step 23
challengeType: 20
dashedName: step-23
---

# --description--

When the inbox is not empty, you'll try to access the email at the given index and display it.

But first, you'll need to handle cases where the inbox is empty or the user provides an invalid email number. Python's `try...except` block is perfect for this - it lets you try something that might fail and handle the error gracefully.

Complete the `read_email` method by adding a `try` block that displays the full email message at the mentioned index. After that, add an `except` block that catches an `IndexError` and prints the message `'Invalid email number.\n'`.


# --hints--

You should call `display_full_email()` on the email within the `try` block and print `Invalid email number.\n` in the `except` block.

```js
({
    test: () => 
    {
        // waiting for try catch helper
    }
})

```

You should add an `except IndexError` block to handle the case when the index is out of range and print the message `'Invalid email number.\n'`.

```js
({
    test: () => 
    {
       // waiting for try catch helper
    }
})
```

# --seed--

## --seed-contents--

```py
import datetime

class Email:
    def __init__(self, sender, receiver, subject, body):
        self.sender = sender
        self.receiver = receiver
        self.subject = subject
        self.body = body
        self.timestamp = datetime.datetime.now()
        self.read = False

    def mark_as_read(self):
        self.read = True

    def display_full_email(self):
        self.mark_as_read()
        print('\n--- Email ---')
        print(f'From: {self.sender}')
        print(f'To: {self.receiver}')
        print(f'Subject: {self.subject}')
        print(f"Received: {self.timestamp.strftime('%Y-%m-%d %H:%M')}")
        print(f'Body: {self.body}')
        print('------------\n')

    def __str__(self):
        status = 'Read' if self.read else 'Unread'
        return f"[{status}] From: {self.sender} | Subject: {self.subject} | Time: {self.timestamp.strftime('%Y-%m-%d %H:%M')}"

class Inbox:
    def __init__(self):
        self.emails = []

    def receive_email(self, email):
        self.emails.append(email)

    def list_emails(self):
        if not self.emails:
            print('Your inbox is empty.\n')
            return
        print('\nYour Emails:')
        for i, email in enumerate(self.emails, start=1):
            print(f'{i}. {str(email)}')


--fcc-editable-region--
    def read_email(self, index):
        if not self.emails:
            print('Inbox is empty.\n')
            return

--fcc-editable-region--

my_inbox = Inbox()

email_obj = Email(
    sender='jessica@example.com',
    receiver='ilenia@example.com',
    subject='Meeting Reminder',
    body='Hi Ilenia, just reminding you about our meeting at 3 PM today.'
)
```
