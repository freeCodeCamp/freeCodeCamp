---
id: 67ed03ac474c48692f41749e
title: Build a Hash Table
challengeType: 23
dashedName: build-a-hash-table
---

# --description--

In this lab, you will build a hash table from scratch. A hash table is a data structure that stores key-value pairs. A hash table works by taking the key as an input and then hashing this key according to a specific hashing function. 

For the purpose of this lab, the hashing function will be simple: it will sum the Unicode values of each character in the key. The hash value will then be used as the actual key to store the associated value. The same hash value would also be used to retrieve, update, or delete the value associated with the key.

**Objective:** Fulfill the user stories below and get all the tests to pass to complete the lab.

**User Stories:**

1. You should define a class named `HashTable` with a `collection` property initialized as an empty dictionary inside its `__init__` method. The `collection` dictionary should store key-value pairs based on the hashed value of the key.

2. The `HashTable` class should have four instance methods: `hash`, `add`, `remove`, and `lookup`.

3. The `hash` method should:

    - Take a string as a parameter.
    - Return a hashed value computed as the sum of the Unicode (ASCII) values of each character in the string. Use the `ord` function for this computation.

4. The `add` method should:

    - Take a key-value pair as parameters and compute the hash of the key
    - Use the computed hashed value to store the key-value pair inside the collection dictionary. 
    - If multiple keys produce the same hash value, their key-value pairs should be stored in a nested dictionary under the same hash value.

5. The `remove` method should:

    - Take a key as a parameter and compute its hash.
    - Remove the corresponding key-value pair from the hash table.

6. The `lookup` method should:

    - Take a key as a parameter.
    - Compute the hash of the key, and return the corresponding value stored inside the hash table. 
    - If the key does not exist in the collection, it should return `None`.

# --hints--

You should define the `HashTable` class.

```js
```

The `HashTable` should initialize a `collection` property as an empty dictionary within the `__init__` method.

```js
```

The `HashTable` class should have a `hash` method.

```js
```

The `hash` method should take a string parameter.

```js
```

The `hash` method should return the sum of the Unicode values of each character in the string.

```js
```

The `HashTable` class should have an `add` method.

```js
```

The `add` method should take a key-value pair as parameters.

```js
```

When you try to add a key that produces the same hash value as an existing key, you should store the key-value pair in a nested dictionary.

```js
```

The `HashTable` class should have a `remove` method.

```js
```

The `remove` method should take a key as a parameter.

```js
```

The `HashTable` class should have a `lookup` method.

```js
```

The `lookup` method should take a key as a parameter.

```js
```

`HashTable.hash("golf")` should return `424`.

```js
```

`HashTable.add("golf", "sport")` should add the key-value pair to the collection at index `424`.

```js
```

`HashTable.add("dear", "friend")` and `HashTable.add("read", "book")` should add both the key-value pairs to the collection at index `412` as a nested dictionary.

```js
```

`HashTable.remove("golf")` should remove the key-value pair from the collection.

```js
```

`HashTable.lookup("golf")` should return `"sport"`.

```js
```

When the key does not exist in the collection, `HashTable.lookup("golf")` should return `None`.

```js
```


# --seed--

## --seed-contents--

```py

```

# --solutions--

```py
class HashTable:
    def __init__(self):
        self.collection = {}

    def hash(self, string):
        hashed = 0
        for char in string:
            hashed += ord(char)  
        return hashed

    def add(self, key, val):
        the_hash = self.hash(key)
        if the_hash not in self.collection:
            self.collection[the_hash] = {}
        self.collection[the_hash][key] = val

    def remove(self, key):
        the_hash = self.hash(key)
        if the_hash in self.collection and key in self.collection[the_hash]:
            del self.collection[the_hash][key]
            if not self.collection[the_hash]: 
                del self.collection[the_hash]

    def lookup(self, key):
        the_hash = self.hash(key)
        if the_hash in self.collection and key in self.collection[the_hash]:
            return self.collection[the_hash][key]
        return None
```
