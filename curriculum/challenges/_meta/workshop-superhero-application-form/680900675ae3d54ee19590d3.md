---
id: 680900675ae3d54ee19590d3
title: Step 21
challengeType: 0
isHidden: false
---

## --description--

Your form should only be submitted if all the fields are valid and the user has agreed to the terms. Let's ensure the submit button only enables in that case.

## --instructions--

You must make sure the `submit` button is **disabled by default**, and it only becomes enabled when:

- All input fields are filled in  
- The email is valid  
- The user agrees to the terms by checking the checkbox  

Make sure the logic to enable/disable the button is based on the actual state of the form inputs.

## --hints--

Use proper `useState` or `computed` values to handle the form state.  
Avoid hardcoding the `disabled` attribute as `true` or `false`.

## --requirements--

- The submit button must have the `disabled` attribute set when the form is invalid  
- The submit button must not be disabled when the form is valid

## --seed--

```jsx
function SuperheroForm() {
  return (
    <form>
      <input placeholder="Hero Name" />
      <input type="email" placeholder="Email" />
      <label>
        <input type="checkbox" />
        Agree to terms
      </label>
      <button type="submit">Submit</button>
    </form>
  );
}
```

## --solution--
import { useState } from "react";

function SuperheroForm() {
  const [name, setName] = useState("");
  const [email, setEmail] = useState("");
  const [agree, setAgree] = useState(false);

  const isEmailValid = email.includes("@") && email.includes(".");
  const isFormValid = name.trim() !== "" && isEmailValid && agree;

  return (
    <form>
      <input
        placeholder="Hero Name"
        value={name}
        onChange={(e) => setName(e.target.value)}
      />
      <input
        type="email"
        placeholder="Email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
      />
      <label>
        <input
          type="checkbox"
          checked={agree}
          onChange={(e) => setAgree(e.target.checked)}
        />
        Agree to terms
      </label>
      <button type="submit" disabled={!isFormValid}>
        Submit
      </button>
    </form>
  );
}


## --tests--
export const tests = [
  {
    description: 'Submit button is disabled initially',
    test: ({ getByRole }) => {
      const button = getByRole('button', { name: /submit/i });
      return button.disabled;
    }
  },
  {
    description: 'Submit button enables only when all inputs are valid',
    test: async ({ getByPlaceholderText, getByLabelText, getByRole }) => {
      const nameInput = getByPlaceholderText(/hero name/i);
      const emailInput = getByPlaceholderText(/email/i);
      const checkbox = getByLabelText(/agree to terms/i);
      const button = getByRole('button', { name: /submit/i });

      nameInput.value = "Spiderman";
      nameInput.dispatchEvent(new Event("input", { bubbles: true }));

      emailInput.value = "spidey@example.com";
      emailInput.dispatchEvent(new Event("input", { bubbles: true }));

      checkbox.click();

      return !button.disabled;
    }
  }
];
